<script type="module" src="./main.mjs"></script>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", () => {
        let oldrect = null;
        const resizeHandler = () => {
            const rect =
                document.getElementById("display").getBoundingClientRect();
            if (!oldrect ||
                    rect.height != oldrect.height ||
                    rect.width != oldrect.width) {
                oldrect = rect;

                document.getElementById("displaycontianer").style.width =
                    `${rect.width}px`;
                document.getElementById("displaycontianer").style.height =
                    `${rect.height}px`;
            }
            requestAnimationFrame(resizeHandler);
        };
        resizeHandler();
    });
</script>
<div>
    <div id="console"  style="float: left; padding: 2px; width: 10%">
        Debugging info:
        <br>
        <button id="step">step</button>
        <button id="resume">resume</button>
        <p id="fps"></p>
        <p id="entitycount"></p>
    </div>
    <div id="container" style="float: right; width: 85%;">
        <div id="displaycontianer" style="float: left; margin-right: 1em;">
            <canvas id="display" style="height: 100%;"></canvas>
        </div>
        <div id="menucontainer" style="float: left; width: 20%">
            <h1>Menu</h1>
            <hr>
            <p id="money"></p>
            <div id="menu" style="width: 100%;">
                <div id="foxbutton" style="border-style: solid; margin-bottom: 1em;">
                    <img src="../assets/foxTower.png" style="filter: invert(1); height: 2em"></img>
                    Fox Tower (10)
                </div>
                <div id="tacksbutton" style="border-style: solid; margin-bottom: 1em;">
                    <img src="../assets/thumbTacks.png" style="height: 2em"></img>
                    Thumb Tacks (1)
                </div>
            </div>
            <div id="upgrademenu" style="width: 100%; display: hidden;">
            </div>
            <br>
            <hr>
            <div style="border-style: solid;" id="spawn">
                spawn wave
            </div>
        </div>
    </div>
</div>
